# 프로세스 모델링

- 학습 목표
  - 데이터 모델링의 개념을 이해하고 수행
  - 데이터 모델링의 작업절차 이해
  - 데이터 모델링의 기본 구성요소와 기본가이드를 이해
  - 현행 시스템의 데이터 모델을 이해하고 TO-BE 개선 데이터 모델을 구성할 수 있다.

## 개요

- 데이터 모델링 : 고객 비지니스 이해 > 논리ERD 도출 > 물리ERD 전환
- 논리 데이터 모델 : 일반용어, 업무중심 모델 정의, 업무흐름 파악, 커뮤니케이션
  - 대상 : Entity, Attribute, Identifier, Occurrence
- 물리 데이터 모델 : DBMS적합용어, 성능 중심, 파티셔닝 수행, 집계테이블 도출
  - 대상 : Table, Column, Primary Key, Row, Index
- 개발방법론 : 시스템 개발을 위한 절차, 도구, 기법 등을 체계적으로 정리
  - 필요성
    - 표준화, 모듈화, 재활용을 통한 개발성 향상
    - 정형화된 절차, 표준 용어를 통한 효과적 의사소통 수단
  - 발전 : 프로세스 + 데이터 + object(데이터) + 컴포넌트 + 외부 서비스 단위로 점점 발점
    - 구조적 방법론 : 기능 분할을 활용한 업무기능 파악. 프로세스 중심으로 분석/설계
      - Data Flow Diagram, Diagram, Structure Chart
    - 정보공학 방법론 : 기업 레벨의 프로세스와 데이터를 분석/설계
      - 업무기능분해도, ERD
    - 객체지향 방법론 : 프로세스와 데이터를 포함하는 Object 단위 분석/설계
      - Usecase Diagram, Sequence Diagram
      - object : 속성과 메소드가 결합된 형태 ; 다형성,상속성,캡슐화
    - CBD 방법론 : 컴포넌트 기반 분석/설계, SW유지보수성 및 높은 재사용성
      - 컴포넌트 명세서, Interface Diagram
      - 컴포넌트 : 특정기능을 수행하는 모듈, 시스템에 종속적이지 않음, 재사용/교체 가능
    - SOA 방법론 : 외부 제공 및 재사용 가능한 업무 프로세스 기반 서비스 단위 분석/설계
      - 업무 흐름도, 서비스 정의서
- 프로젝트
  - 모놀릭 : 초기개발, 하나의 App + DB영역
  - Internally componentized App : 모듈화, CBD, SOA등의 방법을 적용하여 하나의 App을 논리적으로 분리
    - 유사한 연결성이 높은 logic을 그룹핑하여 관리; 금융, 금공
  - MSA : 논리적 분리의 한계, 스파게티문제가 해결이 안됨. >>> 서비스별 app과 DB를 물리적으로 분리
    - 서비스는 업무중심 분할

## 분석

- 시스템 개발 단계 스텝 : 분석 > 기본설계 > 상세설계 > 개발 > 테스트 > 전개
- 분석 개요 : 구축대상 업무 및 시스템에 대해 철저히 분석/이해하여 핵심업무를 선정
  - 현행 시스템 분석 : 현행업무 흐름도, 현행프로그램 목록, 현행테이블 정의서 등의 산출물 작성
  - 요구사항정의 : 현행 시스템 문제점, 개선사항을 수집후 요구사항 정의서에 반영
  - To-Be 프로세스 분석 : 비지니스 업무기능 요구사항
    - 업무배경도, 업무기능분해도, 업무흐름도, 통합업무흐름도 산출
  - 화면 정의 : 사용자 인터페이스 요구사항, 화면 레이아웃 및 입출력
    - 화면정의서, 메뉴구조도 산출
  - 데이터 분석 : 데이터 관련 업무기능 요구사항. 현행시스템 용어 도메인 조사. 엔터티 도출하여 속성/식벽자/관계를 정의
    - 논리ERD, 엔터티 정의서 산출
  - 인터페이스 정의 : 내/외부 시스템 연계 요구사항. 요구사항 정의 + To-Be 분석의 업무간 내/외부 연계를 반영
    - 내부 인터페이스 명세서, 외부 인터페이스 명세서 산출
  - 단계말 검토 : 분석작업 완료시 검토 내용을 반영하여 검토결과서를 작성
    - 변경사항은 분석 산출물에 재반영
    - 요구사항추적 매트릭스 : 요구사항이 어떻게 반영되었는지 추적할 수 있도록 해 주는 문서
      - 요구사항추적 ID : 요구사항ID, 업무기능ID, 화면ID

### 현행 시스템 분석

- 개요 : 현행 시스템 및 업무를 비즈니스와 데이터 관점에서 분석
- 목적
  - 업무영역의 핵심 프로세스를 파악
  - 현행 시스템 및 업무/데이터에 대한 이해를 도움
  - 향후 데이터 분석 및 데이터 전환 자료로 활용
- 미흡시 발생할 수 있는 문제점
  - 개발대상 업무 범위에 대한 누락
  - 설계 및 개발 시 예측 불가능한 일정 지연, 품질 미흡
    - 왜 그런 로직이 있는지를 파악 못하거나 프로그램 복잡도 수준 파악이 이루어지지 않음
- 분석절차
  - 분석 전략 수립 : 고객사의 시스템 상황별 분석 전략 수립
    - 프로그램의 난이도와 업무 중요도를 고려하여 소스의 선택적 분석
    - 현장의 사항을 이해하고 현장에 맞는 분석 전략 세우기
    - 현행 연계시스템에서 연계목록 추출, 역공학을 통한 구조적 분석 수행
  - 자료 요청 및 수집 : 요구사항 수집/정의/검토
    - 현행시스템 산출물 확보와 검토 : 수집 산출물에 대한 출처 및 버전관리 필요
    - 현행시스템 접속 권한 및 코드 자료 요청과 수집
  - 분석 : 현행 시스템/프로세스/데이터 분석하여, 현 시스템 및 업무/데이터 이해
    - 현행시스템분석서 작성
  - 결과 확인 : 분석 결과 고객확인 워크샵 수행. 고객 확인을 받아야 함(불용 여부 목록 포함)
    - 의사결정권자가 반드시 참여하여 여러 결정을 지을 수 있게
  - 개선사항 정의 : 분석 결과를 토대로 개선 사항 정의. 향후 요구사항 및 프로세스 정의에 활용
    - 고객 입장에서 필요 내용 정리, 현행시스템과 제안서 대비 분석
    - To-Be 시스템 설계시 반영 여부는 내부 및 고객으로부터 반드시 확인
- 주의사항
  - 시스템 산출물을 통한 분석시, 공식채널을 통한 원천정확성 반드시 확인
  - 하드코딩 기능 요구사항 식별을 위해 소스코드 접근해야 함
  - 받은 현행 시스템 자료는 완전하지 않다는 전제로 꼼꼼히 체크
  - 중요 영역을 식별, 요구사항 유형에 따라 접근 방식이 달라짐
- 역공학 도구를 통한 현행시스템분석
  - 소스코드를 분석하고 결과를 DB에 저장하거나 다양한 관점의 데이터를 실시간 조회하거나 분석산출물 제공
  - 역공학 산출물 : 불용 프로그램/테이블 파악, 타 시스템 연관관계 파악, 통합 대상 선정, 공통모듈 정리...

### 요구사항 정의

- 개요 : 요구사항 수집, 명세화하여 고객과 함께 검토
  - 프로젝트 계획을 비롯해 설계 및 코딩, 테스트 활동의 바탕으로 활용
  - 프로젝트 실패 최고 원인 : 요구사항 변경
    - 요구사항 변경 최소화를 위해 고객 니즈 이해나 요구사항의 정확한 도출이 필요
- 요구사항 : 문제해결, 목적달성을 위해 사용자가 필요로 하는 조건 또는 기능
  - 기능적 요구사항 : 시스템에서 입력을 받아 처리하고 출력
    - 회원은 상품을 조회하고 상품을 주문할 수 있어야 한다.
  - 비기능적 요구사항 : SW관련 수치화된 요구사항
    - 성능 : 특정 기기 사용, 시간내 기능 수행
    - 안전, 보안
    - 품질 특성 : 새로운 사용자도 1일의 교육이면 정상적 운용이 가능해야 한다
- 절차
  - 요구사항 수집 : 정형화되지 않은 고객의 요구사항 정형화
    - 인터뷰, 설문, 제안요청서, 제안서, 회의 등을 통해 요구사항 수집
    - 가급적 동원 가능한 모든 소스를 통해 수집
    - 대상자를 체계적으로 분류하고 모든 대상으로부터 빠짐 없이 수집
    - 비즈니스 요구사항, 사용자 요구사항, 외부 인터페이스, 제약조건, 품질 목표
    - 예시
      - 인터뷰 : 계획서 > 결과서 > 회의록
      - 프로토타이핑 : UI패턴, 간단한 초기모델로 요구사항 가시화로 명확히 정의하고 구체화
  - 요구사항 정의 : 요구 사항 정의
    - 요구사항 정의서 작성
    - 모든 것을 상세히 기술하는 것이 아닌 전체 범위 파악이 중요
    - 방법이 아닌 무엇을 해야하는 지에 초점
  - 요구사항 검토 : 고객과의 검토작업으로 요구사항을 명확히 확정하고, 누락사항 없음을 파악
    - 검토 원칙 : Open > Accept로! 근거 회의록 작성 및 지속적 관리 필요
      - 이해관계자와 함께 Needs 충족 확인
      - 관리자와 함께 비즈니스 목적/목표 부합 확인
      - 엔지니어와 함께 품질속성을 명확히 하고 결점 탐색

### To-Be 프로세스 분석

- 개요 : 현행 업무/데이터 분석을 바탕으로 현행 시스템의 문제점과 개선안을 도출한 후, 고객의 요구사항을 반영한 개선된 프로세스를 업무 기능분해도와 업무흐름도를 통해서 기술하는 작업
- 이유
  - 프로젝트 전체 윤곽을 이해하기 쉽게
  - 핵심업무 선정을 위한 가시성 확보
- 절차 : 현행 업무기능분해도, 업무흐름도, 테이블정의서에서 업무배경도, 기능분해도, 업무흐름도, 통합업무흐름도 작성
  - 업무 배경도 작성 : 시스템 범위를 명확히 파악하고 외부와의 상호작용을 표현하는 다이어그램
    - 중앙에 구축시스템, 주위에 사용자, 유관시스템, 외부기관 그리고 자료흐름을 그림
  - 업무 기능 분해도 작성 : 필수. 계층적 구조분석
    - 단위 프로세스가 도출될때 까지 지속적으로 나누는 과정을 다이어그램으로 표현
    - 최소단위를 찾고 연관성 있는 것 끼리 그룹핑하여 현행 업무와 요구사항을 도식화
      - 업무영역(비즈니스 도메인) > 프로세스 (그룹) > 단위 프로세스를 프로젝트 규모에 따라 레벨 3~5정도로 도출
        - 단위 프로세스(Activity) : 한 사람이 한 장소에서 시작부터 끝까지 중단없이 수행될 수 있는 일
    - 분해 단위에 일관성과 검토가 반드시 필요
    - 기본원칙 : MECE(Mutually Exclusive, Collectively Exhausitive)
      - 서로 중복되지 않고, 각각의 합이 전체를 포함하는 요소들의 집합
      - 상호 배타적이지만 모이면 완전히 전체를 이루어야 함 = 중복과 누락이 없어야 함
  - 업무 흐름도 작성 : 필수. 업무 프로세스간 선후행 관계와 정보의 흐름을 고객 관점에서 기술
    - 업무 이해 검증, 통합 테스트 시나리오 도출 등에 사용
    - 작성 : 일반적으로 2레벨부터 Top-down으로 작성
      - 조직 및 역할자(=업무 배경도의 액터/터미널) 파악
      - 업무 처리 절차 파악
      - 역할 별 시간의 흐름에 따른 업무 파악
      - 업무의 시작과 끝 식별
      - 업무 유형에 따른 분기가 있는지 식별
  - 통합 업무 흐름도 작성 : 전체 도메인 간 업무 통합 관점
    - Big Picture, 업무범위 확정, OJT, R&R 논의 등 프로젝트 전체 관점의 의사소통 도구
    - 처리(Process)와 흐름(Transfer)의 효율성, 효과성, 일관성 지향
    - 전체 흐름이 한눈에 보이며 A3 용지로 표현할 수 있는 가독성이 필요

### 화면 정의

- 개요 : 화면의 레이아웃 및 입/출력 데이터를 정의하여 고객의 협의를 통해 요구사항을 구체적으로 확정하는 활동
  - 이후 분석에서 프로세스 명세화, 설계에서 화면 설계 및 테스트 시나리오 작성에 사용
  - 산출물 : 화면정의서, 보고서정의서, 메뉴구조도
- 절차
  - 화면 식별 : 사용자의 사용 목적을 분석하고, 목적 달성을 위한 필요한 화면을 정의. 개선/유지/신규/삭제
    - 현행 시스템 분석을 통해 화면을 개선/유지로 분류
    - To-Be 업무 분석 결과 추가 기능에 대한 신규 화면을 작성
  - 화면흐름 정의 : 프로세스 별 화면들간의 흐름을 정의
    - 스토리보드 구성 : 화면 간 흐름과 이벤트를 기술하여 특성 별로 구분하여 작성
  - 화면정의서 작성 : 화면에 표현되어야 할 정보와 발생 이벤트 중심으로 레이아웃/속성을 작성
    - 단위 프로세스 별 수행, 사용자의 참여가 중요
    - 시스템 분석/설계 전에 시스템의 기능성과 사용 용이성을 보여주고 확인
      - 정보 + 이벤트 + 사용자 요구사항과 이벤트 처리
  - 요구사항 가시화 : 요구사항 정의 시 화면을 통한 직관적인 소통 선호. 고객과의 빠른 의사소통 방법
    - Paper Prototype : 페이퍼로 작성 후 ppt로 변환하여 화면정의서 작성
    - PPT 활용 : 변환 없이 바로 PPT로 작성
    - UI 프로토타이퍼 : 툴을 사용하여 수작업 대비 에포트 공수 절감. 정의된 패턴에 따른 고른 품질

### 인터페이스 정의

- 인터페이스 개요 : 서로 다른 두 시스템 간의 접점이나 경계. 정보를 교환하는 공유 경계
  - 사용자가 기기를 쉽게 동작시키는데 도움을 주는 시스템
  - 일반적으로 인터페이스 분석/설계는 내부 시스템 인터페이스와 외부 시스템 인터페이스를 주 대상으로 수행
- 분류
  - 하드웨어 : 커넥터, 송수신방법(프로토콜)
  - 소프트웨어 : OS, App
  - 사용자 인터페이스 : 사용자와 시스템간의 상호교환. UI/UX
- 연계기술 : DB Link, DB Conn, API, Open API, JDBC, Hyper Link, Socket, Web Service(WSDL, UDDI, SOAP)
- 통신유형
  - 실시간 : 단방향(Notify), 동기(Sync), 비동기(Async), 지연처리(Defferred)
  - 배치 : 정해진 시간에 수행되는 방식. 연계 스케쥴러에 의해 구동되는 이벤트 방식, Timer에 의한 방식으로 나뉨
- 방식
  - 직접 연계 방식 : 송수신 시스템간 직접 연동. 1대 1 연계. 응용 프로그램에서 인터페이스 표준을 맞춤
    - P2P, 싸고 성능 좋고, 결합도 높음. 미들웨어로 프로토콜 통신 규약 단순화
    - TCP/IP, HTTP, 전용선(X.25, HDLC)
  - 간접 연계 방식 : 송수신 시스템 사이에 연동 솔루션을 둠. 1대 N, N대 N 연계. 연동솔루션으로 인터페이스 표준을 맞춤.
    - 대상 시스템/모듈이 많고 인터페이스 방식이 다양할 경우 미들웨어 솔루션을 활용하여 연계
    - EAI(Enterprise Application Integration) : 비즈니스 프로세스를 중심으로 각종 App 간 상호 연동을 지원하는 통합 솔루션
    - ESB(Enterprise Service Bus) : SOA(서비스 중심 아키텍쳐방식)를 지원하는 서비스와 App Component 간의 연동을 지원하는 미들웨어 플랫폼
    - MCI/MCA(Multi Channel Integration/Architecture) : 고객/서비스 중심의 프로세스 구축을 위해 모든 고객접점과 내부 시스템간 인터페이스 통합
    - FEP(Front End Processor) : 내부 시스템과 외부 기업 또는 기관의 시스템들을 연동해주는 솔루션
  - 미들웨어 솔루션 : 직간접 연계 구별 없음.
    - 애플리케이션 연계 미들웨어 : App간 정보 교환. 클라이언트/서버 프로그램 개발 시 프로그램 간 통신
      - RPC, MOM, ORB, TPM, WAS
    - 인터페이스 연계 미들웨어 : 시스템 간 또는 App 간 메시지 교환. EAI, ESB
    - 데이터베이스 연계 미들웨어 : App to DB. 공통의 SQL 호출 인터페이스 제공으로 쉽게 DB 접근. ODBC, JDBC
  - 인터페이스 데이터 표준 : 인터페이스 대상 시스템/모듈 간의 전송 데이터 형식, 규칙 또는 전송 방식을 정의
    - DB2DB : 데이터 별 필드를 구성하여 테이블 정의
    - App2App : 고정 길이 데이터, CSV, XML(필드 태그) JSON
      - 고정길이 : 전문공통 + 전문 개별 + 전문 종료
- 인터페이스 구현 절차 : 분석 > 설계 > 구현 > 테스트
  - 내/외부 아키텍쳐 분석
  - 내/외부 인터페이스 정의
  - 인터페이스 명세서 : 연계 업무와 송수신 시스템 정보
    - 주요 항목 : 인터페이스ID, 인터페이스명, 송수신 시스템, 대내외 구분, 연계 방식, 통신 유형, 처리 유형, 발생 주기, 데이터 형식, 관련 요구사항ID

## 설계

- 종류
  - 기본설계 : 분석단계 도출 요구사항을 구현 가능하도록 아키텍쳐를 확정. 개발범위 및 개발계획 확정. 시스템 뼈대 확정.
    - 레이아웃 및 이벤트, 프로그램 식별(모듈화), 호출 체계 및 op 도출, 상관관계와 데이터 접근 로직
  - 상세설계 : 설계 상세화 및 개발 언어로 전환. 단위 PG 개발 완성도 검증. 응용시스템 기능 완성도 검증. 개발 가능 상세화.
    - UX표준에 맞게 이벤트에 대한 op 작성, 프로그램 정련, op 추가 식별, 상세 스펙, 설계 메커니즘 적용. 실제 SQL문 작성

### 화면 설계

- 개요 : 구현 플랫폼의 SW 아키텍쳐를 반영하여, 화면 담당 부분을 설계
  - 화면 정의서를 기준으로 화면 Layout을 상세하게 반영, 구체적으로 기술
- 산출물 : 화면 설계서
- 절차 : 화면정의서 정련 > 화면설계서 작성 > 화면설계서 검토
  - 화면정의서 정련 : 화면 정의서 분석하여 수정, 보완하며 명확히 기술 되어있는지 확인
  - 화면설계서 작성 : 개발자에게 필요한 모든 정보가 제공되고 화면 정의 시 파악된 규칙이 모두 포함되어야 함
  - 화면설계서 검토 : 해당 화면이 요구사항 정의서의 기능을 전부 처리할 수 있는지 여부를 검토

### 비지니스 로직 설계

- 개요 : 비지니스 로직을 모듈화하고, SW 아키텍쳐를 반영하여 개발하게 설계를 상세화 및 구체화
  - 화면 설계, 데이터 모델 등 다양한 산출물을 참고하여 프로그램의 흐름을 설계함
- 절차 : 모듈화 > SW 아키텍쳐 이해 > 비지니스 로직 설계
  - 모듈화 : 전체 시스템을 모듈로 분해(Decomposition). 하나의 PG가 여러 모듈을 호출하는 구조로 구성
    - 모듈 : 그 자체로 하나의 완전한 기능을 수행할 수 있는 독립된 실체
      - 응집도는 높게(기능적으로 밀접하게), 결합도는 낮게(상호 의존성은 최소화)
  - SW 아키텍쳐 이해
    - 준비물 : 화면, 논리ERD, 업무기능분해도
      - 화면당 하나의 View 클래스 도출 > 화면 이벤트 하나 당 하나의 Command 클래스나 op도출
      - 업무기능분해도 프로세스 하나 당 하나의 Biz 클래스 도출, 단위 프로세스 하나당 Biz 클래스 op 도출
      - ERD entity(테이블)하나당 하나의 XML 도출 > XML에는 하나 이상의 SQL 존재
  - 비지니스 로직 : 다양한 산출물을 클래스, op 도출, 쿼리 작성, 로직 반영 등에 참고하여 모듈 설계 작업 수행
    - 산출물 : 프로그램 설계서
